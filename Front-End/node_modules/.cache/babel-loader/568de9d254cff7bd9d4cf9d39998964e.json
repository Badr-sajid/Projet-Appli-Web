{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _assertThisInitialized from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _slicedToArray from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Button from'@material-ui/core/Button';import InputLabel from'@material-ui/core/InputLabel';import MenuItem from'@material-ui/core/MenuItem';import FormHelperText from'@material-ui/core/FormHelperText';import FormControl from'@material-ui/core/FormControl';import Select from'@material-ui/core/Select';import{makeStyles}from'@material-ui/core/styles';import TextField from'@material-ui/core/TextField';import HeaderFonctionnaire from'./HeaderFonctionnaire';import history from'./history';import Date from'./Date';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{formControl:{margin:theme.spacing(1),minWidth:200},selectEmpty:{marginTop:theme.spacing(2)}};});var Gestion=/*#__PURE__*/function(_Component){_inherits(Gestion,_Component);var _super=_createSuper(Gestion);function Gestion(){_classCallCheck(this,Gestion);return _super.apply(this,arguments);}_createClass(Gestion,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"gestion-button-container\",children:/*#__PURE__*/_jsx(Button,{className:\"gerer-demandes\",variant:\"contained\",color:\"default\",onClick:function onClick(){return history.push('/HistoriqueTraitement');},children:\"Historique des traitements\"})});}}]);return Gestion;}(Component);function ChoixDemandes(){var classes=useStyles();var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),age=_React$useState2[0],setAge=_React$useState2[1];var handleChange=function handleChange(event){setAge(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"gestion-demande-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"type-demande\",children:/*#__PURE__*/_jsxs(FormControl,{className:classes.formControl,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-simple-select-label\",children:\"Type de demande\"}),/*#__PURE__*/_jsxs(Select,{className:\"type-de-demande\",labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",value:age,onChange:handleChange,autoWidth:\"true\",children:[/*#__PURE__*/_jsx(MenuItem,{value:10,children:\"Carte nationale d'identit\\xE9\"}),/*#__PURE__*/_jsx(MenuItem,{value:20,children:\"Passeport\"}),/*#__PURE__*/_jsx(MenuItem,{value:30,children:\"Immatriculation des v\\xE9hicules\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"date\",children:/*#__PURE__*/_jsx(Date,{})})]});}function ChoixQuestions(){var classes=useStyles();var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),age=_React$useState4[0],setAge=_React$useState4[1];var handleChange=function handleChange(event){setAge(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"gestion-demande-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"type-demande\",children:/*#__PURE__*/_jsxs(FormControl,{className:classes.formControl,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-simple-select-label\",children:\"Type de question\"}),/*#__PURE__*/_jsxs(Select,{labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",value:age,onChange:handleChange,autoWidth:\"true\",children:[/*#__PURE__*/_jsx(MenuItem,{value:10,children:\"Type 1\"}),/*#__PURE__*/_jsx(MenuItem,{value:20,children:\"Type 2\"}),/*#__PURE__*/_jsx(MenuItem,{value:30,children:\"Type 3\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"date\",children:/*#__PURE__*/_jsx(Date,{})})]});}var Demandes=/*#__PURE__*/function(_Component2){_inherits(Demandes,_Component2);var _super2=_createSuper(Demandes);function Demandes(props){var _this;_classCallCheck(this,Demandes);_this=_super2.call(this,props);_this.state={items:[]};_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));return _this;}_createClass(Demandes,[{key:\"handleClick\",value:function handleClick(event,id){var url=\"http://localhost:8080/Web-Project/project/DeleteDemande/\"+id;fetch(url,{method:\"DELETE\",headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify(null)});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"http://localhost:8080/Web-Project/project/GetDemande\").then(function(res){return res.json();}).then(function(result){_this2.setState({isLoaded:true,items:result});},// Remarque : il est important de traiter les erreurs ici\n// au lieu d'utiliser un bloc catch(), pour ne pas passer à la trappe\n// des exceptions provenant de réels bugs du composant.\nfunction(error){_this2.setState({isLoaded:true,error:error});});}},{key:\"render\",value:function render(){var _this3=this;var questions=this.state.items;var elements=[];var content=\"\";if(this.props.estTraite==\"true\"){content=\"Changer le traitement\";}else{content=\"Traiter\";}var _iterator=_createForOfIteratorHelper(Array.from(questions.entries()).reverse()),_step;try{var _loop=function _loop(){var _step$value=_slicedToArray(_step.value,2),index=_step$value[0],value=_step$value[1];if(value.estTraite==_this3.props.estTraite){elements.push(/*#__PURE__*/_jsxs(\"div\",{className:\"demandes-container\",children:[/*#__PURE__*/_jsx(\"hr\",{className:\"separate-demandes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"demandes-1-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"demandes-content-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"demande-text\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\" Demande de \",value.typeDemande,\" \"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"demande-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"traiter\",type:\"button\",onClick:function onClick(){return history.push({pathname:\"/ConsulterFonctionnaire\",state:{idCitoyen:_this3.props.id,typeDemarche:value.typeDemande,idDemarche:value.id}});},children:content}),/*#__PURE__*/_jsx(\"button\",{className:\"traiter\",type:\"button\",onClick:function onClick(e){window.location.reload();_this3.handleClick(e,value.id);},children:\"Supprimer\"})]})]})}),/*#__PURE__*/_jsx(\"hr\",{className:\"separate-demandes\"})]}));}};for(_iterator.s();!(_step=_iterator.n()).done;){_loop();}}catch(err){_iterator.e(err);}finally{_iterator.f();}return/*#__PURE__*/_jsx(\"div\",{children:elements});}}]);return Demandes;}(Component);var Questions=/*#__PURE__*/function(_Component3){_inherits(Questions,_Component3);var _super3=_createSuper(Questions);function Questions(props){var _this4;_classCallCheck(this,Questions);_this4=_super3.call(this,props);_this4.state={items:[]};_this4.handleClick=_this4.handleClick.bind(_assertThisInitialized(_this4));return _this4;}_createClass(Questions,[{key:\"handleClick\",value:function handleClick(event,id){var url=\"http://localhost:8080/Web-Project/project/DeleteQuestion/\"+id;fetch(url,{method:\"DELETE\",headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify(null)});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this5=this;fetch(\"http://localhost:8080/Web-Project/project/GetQuestion\").then(function(res){return res.json();}).then(function(result){_this5.setState({isLoaded:true,items:result});},// Remarque : il est important de traiter les erreurs ici\n// au lieu d'utiliser un bloc catch(), pour ne pas passer à la trappe\n// des exceptions provenant de réels bugs du composant.\nfunction(error){_this5.setState({isLoaded:true,error:error});});}},{key:\"render\",value:function render(){var _this6=this;var questions=this.state.items;var elements=[];var content=\"\";if(this.props.estTraite==\"true\"){content=\"Changer la reponse\";}else{content=\"Répondre\";}var _iterator2=_createForOfIteratorHelper(Array.from(questions.entries()).reverse()),_step2;try{var _loop2=function _loop2(){var _step2$value=_slicedToArray(_step2.value,2),index=_step2$value[0],value=_step2$value[1];if(value.estTraite==_this6.props.estTraite){if(value.estTraite==\"false\"){elements.push(/*#__PURE__*/_jsxs(\"div\",{className:\"demandes-container\",children:[/*#__PURE__*/_jsx(\"hr\",{className:\"separate-demandes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"demandes-1-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"demandes-content-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"demande-text\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\" Question : \",value.question]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"demande-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"R\\xE9pondre\",type:\"button\",onClick:function onClick(){return history.push({pathname:\"/PageReponse\",state:{id:value.id,question:value.question}});},children:content}),/*#__PURE__*/_jsx(\"button\",{className:\"traiter\",type:\"button\",onClick:function onClick(e){window.location.reload();_this6.handleClick(e,value.id);},children:\"Supprimer\"})]})]})}),/*#__PURE__*/_jsx(\"hr\",{className:\"separate-demandes\"})]}));}else{elements.push(/*#__PURE__*/_jsxs(\"div\",{className:\"demandes-container\",children:[/*#__PURE__*/_jsx(\"hr\",{className:\"separate-demandes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"demandes-1-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"demandes-content-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"demande-text\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" Question : \",value.question]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"reponse-color\",children:\" R\\xE9ponse :\"}),\" \",/*#__PURE__*/_jsxs(\"span\",{children:[\" \",value.reponse,\" \"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"demande-buttons\",children:/*#__PURE__*/_jsx(\"button\",{className:\"R\\xE9pondre\",type:\"button\",onClick:function onClick(){return history.push({pathname:\"/PageReponse\",state:{id:value.id,question:value.question}});},children:content})})]})}),/*#__PURE__*/_jsx(\"hr\",{className:\"separate-demandes\"})]}));}}};for(_iterator2.s();!(_step2=_iterator2.n()).done;){_loop2();}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return/*#__PURE__*/_jsx(\"div\",{children:elements});}}]);return Questions;}(Component);var PageDemandes=/*#__PURE__*/function(_Component4){_inherits(PageDemandes,_Component4);var _super4=_createSuper(PageDemandes);function PageDemandes(props){_classCallCheck(this,PageDemandes);return _super4.call(this,props);}_createClass(PageDemandes,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(HeaderFonctionnaire,{}),/*#__PURE__*/_jsx(\"hr\",{className:\"overall-separator\"}),/*#__PURE__*/_jsx(Gestion,{}),/*#__PURE__*/_jsx(\"h2\",{className:\"question-title\",children:\" Demandes \"}),/*#__PURE__*/_jsx(ChoixDemandes,{}),/*#__PURE__*/_jsx(Demandes,{estTraite:this.props.traite}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h2\",{className:\"question-title\",children:\" Questions \"}),/*#__PURE__*/_jsx(ChoixQuestions,{}),/*#__PURE__*/_jsx(Questions,{estTraite:this.props.traite}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"end\",children:/*#__PURE__*/_jsxs(\"center\",{children:[\"Copyright \",/*#__PURE__*/_jsx(\"span\",{children:\"\\xA9\"}),\" 2021 tous les droits r\\xE9s\\xE9rv\\xE9s.\"]})})]});}}]);return PageDemandes;}(Component);export default PageDemandes;","map":{"version":3,"sources":["/Users/badrsajid/Desktop/MonCitoyen/Front-End/src/PageDemandes.js"],"names":["React","Component","Button","InputLabel","MenuItem","FormHelperText","FormControl","Select","makeStyles","TextField","HeaderFonctionnaire","history","Date","useStyles","theme","formControl","margin","spacing","minWidth","selectEmpty","marginTop","Gestion","push","ChoixDemandes","classes","useState","age","setAge","handleChange","event","target","value","ChoixQuestions","Demandes","props","state","items","handleClick","bind","id","url","fetch","method","headers","body","JSON","stringify","then","res","json","result","setState","isLoaded","error","questions","elements","content","estTraite","Array","from","entries","reverse","index","typeDemande","pathname","idCitoyen","typeDemarche","idDemarche","e","window","location","reload","Questions","question","reponse","PageDemandes","traite"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\n\r\nimport HeaderFonctionnaire from './HeaderFonctionnaire';\r\nimport history from './history';\r\n\r\n\r\nimport Date from './Date';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      margin: theme.spacing(1),\r\n      minWidth: 200,\r\n    },\r\n    selectEmpty: {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  }));\r\n\r\n\r\nclass Gestion extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"gestion-button-container\">\r\n                <Button className=\"gerer-demandes\" variant=\"contained\" color=\"default\" onClick={() => history.push('/HistoriqueTraitement')}>\r\n                  Historique des traitements\r\n                </Button>                \r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\n  \r\n function ChoixDemandes() {\r\n    const classes = useStyles();\r\n    const [age, setAge] = React.useState('');\r\n  \r\n    const handleChange = (event) => {\r\n      setAge(event.target.value);\r\n    };\r\n  \r\n    return (\r\n      <div className=\"gestion-demande-container\">\r\n        <div className=\"type-demande\">\r\n        <FormControl className={classes.formControl}>\r\n          <InputLabel  id=\"demo-simple-select-label\">Type de demande</InputLabel>\r\n          <Select className=\"type-de-demande\"\r\n            labelId=\"demo-simple-select-label\"\r\n            id=\"demo-simple-select\"\r\n            value={age}\r\n            onChange={handleChange}\r\n            autoWidth=\"true\"\r\n          >\r\n            <MenuItem value={10}>Carte nationale d'identité</MenuItem>\r\n            <MenuItem value={20}>Passeport</MenuItem>\r\n            <MenuItem value={30}>Immatriculation des véhicules</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n        </div>\r\n        <div className=\"date\">\r\n            <Date />\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n  function ChoixQuestions() {\r\n    const classes = useStyles();\r\n    const [age, setAge] = React.useState('');\r\n  \r\n    const handleChange = (event) => {\r\n      setAge(event.target.value);\r\n    };\r\n  \r\n    return (\r\n      <div className=\"gestion-demande-container\">\r\n        <div className=\"type-demande\">\r\n        <FormControl className={classes.formControl}>\r\n          <InputLabel id=\"demo-simple-select-label\">Type de question</InputLabel>\r\n          <Select\r\n            labelId=\"demo-simple-select-label\"\r\n            id=\"demo-simple-select\"\r\n            value={age}\r\n            onChange={handleChange}\r\n            autoWidth=\"true\"\r\n          >\r\n            <MenuItem value={10}>Type 1</MenuItem>\r\n            <MenuItem value={20}>Type 2</MenuItem>\r\n            <MenuItem value={30}>Type 3</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n        </div>\r\n        <div className=\"date\">\r\n            <Date />\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n\r\nclass Demandes extends Component {\r\n\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {items: []};\r\n      this.handleClick = this.handleClick.bind(this);\r\n    }\r\n\r\n\r\n    handleClick(event, id)  {\r\n      const url = \"http://localhost:8080/Web-Project/project/DeleteDemande/\"+id;\r\n      fetch(url, {\r\n          method: \"DELETE\",\r\n          headers: {\r\n              'Accept': 'application/json',\r\n              'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(null)\r\n      })\r\n  }\r\n    \r\n    \r\n    \r\n    componentDidMount() {\r\n      fetch(\"http://localhost:8080/Web-Project/project/GetDemande\")\r\n        .then(res => res.json())\r\n        .then(\r\n          (result) => {\r\n            this.setState({\r\n              isLoaded: true,\r\n              items: result\r\n            });\r\n          },\r\n          // Remarque : il est important de traiter les erreurs ici\r\n          // au lieu d'utiliser un bloc catch(), pour ne pas passer à la trappe\r\n          // des exceptions provenant de réels bugs du composant.\r\n          (error) => {\r\n            this.setState({\r\n              isLoaded: true,\r\n              error\r\n            });\r\n          }\r\n        )\r\n      }\r\n\r\n\r\n\r\n    render() {\r\n\r\n\r\n        const questions = this.state.items;\r\n\r\n        const elements = []\r\n\r\n        var content = \"\";\r\n\r\n        if (this.props.estTraite == \"true\") {\r\n          content = \"Changer le traitement\"\r\n        } else {\r\n          content = \"Traiter\";\r\n        }\r\n\r\n        for (const[index, value] of Array.from(questions.entries()).reverse()) {\r\n          if (value.estTraite == this.props.estTraite) {\r\n              elements.push(\r\n                <div className=\"demandes-container\">\r\n                                    <hr className=\"separate-demandes\"></hr>\r\n\r\n                    <div className=\"demandes-1-container\">\r\n                        <div className=\"demandes-content-container\">\r\n                            <div className=\"demande-text\">\r\n                                <span> Demande de {value.typeDemande} </span>\r\n                            </div>\r\n                            <div className=\"demande-buttons\">\r\n                                <button className=\"traiter\" type=\"button\" onClick={() => history.push({pathname: \"/ConsulterFonctionnaire\",\r\n                                state: {idCitoyen:this.props.id , typeDemarche: value.typeDemande, idDemarche: value.id}})}>{content}</button>\r\n                                <button className=\"traiter\" type=\"button\" onClick={(e) => {window.location.reload(); this.handleClick(e, value.id);}}>Supprimer</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <hr className=\"separate-demandes\"></hr>\r\n\r\n                </div>\r\n              )\r\n          }\r\n\r\n        }\r\n        return (\r\n          <div>\r\n            {elements}\r\n          </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass Questions extends Component {\r\n\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {items: []}\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n\r\n  handleClick(event, id)  {\r\n    const url = \"http://localhost:8080/Web-Project/project/DeleteQuestion/\"+id;\r\n    fetch(url, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(null)\r\n    })\r\n}\r\n  \r\n  \r\n  componentDidMount() {\r\n    fetch(\"http://localhost:8080/Web-Project/project/GetQuestion\")\r\n      .then(res => res.json())\r\n      .then(\r\n        (result) => {\r\n          this.setState({\r\n            isLoaded: true,\r\n            items: result\r\n          });\r\n        },\r\n        // Remarque : il est important de traiter les erreurs ici\r\n        // au lieu d'utiliser un bloc catch(), pour ne pas passer à la trappe\r\n        // des exceptions provenant de réels bugs du composant.\r\n        (error) => {\r\n          this.setState({\r\n            isLoaded: true,\r\n            error\r\n          });\r\n        }\r\n      )\r\n    }\r\n\r\n    render() {\r\n\r\n        const questions = this.state.items;\r\n\r\n        const elements = []\r\n\r\n        var content = \"\";\r\n\r\n        if (this.props.estTraite == \"true\") {\r\n          content = \"Changer la reponse\"\r\n        } else {\r\n          content = \"Répondre\";\r\n        }\r\n\r\n        for (const[index, value] of Array.from(questions.entries()).reverse()) {\r\n\r\n          if (value.estTraite == this.props.estTraite) {\r\n            if (value.estTraite == \"false\") {\r\n                  elements.push(\r\n                    <div className=\"demandes-container\" >\r\n                    <hr className=\"separate-demandes\"></hr>\r\n                    <div className=\"demandes-1-container\">\r\n                        <div className=\"demandes-content-container\" >\r\n                            <div className=\"demande-text\">\r\n                                <span> Question : {value.question}</span>\r\n                            </div>\r\n                            <div className=\"demande-buttons\">\r\n                                <button className=\"Répondre\" type=\"button\" onClick={() => history.push({pathname: \"/PageReponse\",\r\n                                state: {id: value.id, question: value.question}})}>{content}</button>\r\n                                <button className=\"traiter\" type=\"button\" onClick={(e) => {window.location.reload(); this.handleClick(e, value.id);} }>Supprimer</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <hr className=\"separate-demandes\"></hr>\r\n                </div>\r\n                  )\r\n            } else {\r\n                  elements.push(\r\n                    <div className=\"demandes-container\" >\r\n                    <hr className=\"separate-demandes\"></hr>\r\n                    <div className=\"demandes-1-container\">\r\n                        <div className=\"demandes-content-container\" >\r\n                            <div className=\"demande-text\">\r\n                                <span> Question : {value.question}</span>\r\n                                <br/>\r\n                                <br/>\r\n                                <span className=\"reponse-color\"> Réponse :</span> <span> {value.reponse} </span>\r\n                            </div>\r\n                            <div className=\"demande-buttons\">\r\n                                <button className=\"Répondre\" type=\"button\" onClick={() => history.push({pathname: \"/PageReponse\",\r\n                                state: {id: value.id, question: value.question}})}>{content}</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <hr className=\"separate-demandes\"></hr>\r\n                </div>\r\n                  )\r\n            }\r\n          }\r\n        }\r\n        return (\r\n          <div>\r\n            {elements}\r\n          </div>       \r\n        )\r\n    }\r\n}\r\n\r\nclass PageDemandes extends Component {\r\n\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    return (    \r\n    <div>\r\n      <HeaderFonctionnaire />\r\n\r\n\r\n       <hr className=\"overall-separator\" />\r\n\r\n       <Gestion />\r\n\r\n       <h2 className=\"question-title\"> Demandes </h2>\r\n      \r\n      <ChoixDemandes />\r\n      <Demandes estTraite={this.props.traite}/>\r\n\r\n      <br></br>\r\n\r\n      <h2 className=\"question-title\"> Questions </h2>\r\n      <ChoixQuestions />\r\n      <Questions estTraite={this.props.traite}/>\r\n\r\n\r\n      <br></br>\r\n      <div className=\"end\">\r\n        <center>Copyright <span>&#169;</span> 2021 tous les droits résérvés.</center>\r\n      </div>\r\n\r\n    </div>\r\n    );\r\n  }\r\n\r\n}\r\nexport default PageDemandes;\r\n\r\n"]},"metadata":{},"sourceType":"module"}