{"ast":null,"code":"import _classCallCheck from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Button from'@material-ui/core/Button';import Header from'./Header';import history from'./history';import HeaderFonctionnaire from'./HeaderFonctionnaire';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AjouterArticle=/*#__PURE__*/function(_Component){_inherits(AjouterArticle,_Component);var _super=_createSuper(AjouterArticle);function AjouterArticle(props){var _this;_classCallCheck(this,AjouterArticle);_this=_super.call(this,props);_this.state={titre:\"\",contenu:\"\",isSubmitted:\"\"};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(AjouterArticle,[{key:\"handleSubmit\",value:function handleSubmit(event){var _this2=this;event.preventDefault();var url=\"http://localhost:8080/Web-Project/project/AddActualite/\";fetch(url,{method:\"POST\",headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({titre:this.state.titre,text:this.state.contenu})}).then(function(response){return response.json();}).then(function(data){console.log(data);if(data){_this2.setState({isSubmitted:\"true\"});}else{_this2.setState({isSubmitted:\"true\"});}if(_this2.state.isSubmitted==\"true\"){history.push({pathname:\"/UploadImageArticle\",state:{idActualite:data.id}});}});}},{key:\"handleChange\",value:function handleChange(event){this.setState({contenu:event.target.value});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"AjouterArticle\",children:[/*#__PURE__*/_jsx(HeaderFonctionnaire,{}),/*#__PURE__*/_jsx(\"hr\",{className:\"overall-separator\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"reponse-title\",children:\" Ajouter un article \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Titre de l'article\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){_this3.setState({titre:e.target.value});},className:\"form-control\",placeholder:\"Entrer le titre de l'article\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Contenu de l'article\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"textarea\",{ref:\"myTextarea\",title:\"Entrer le contenu\",onChange:function onChange(e){_this3.setState({contenu:e.target.value});},rows:\"20\",cols:\"117\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn   btn-primary btn-block\",children:\"Ajouter une photo\"}),/*#__PURE__*/_jsx(\"br\",{})]})]});}}]);return AjouterArticle;}(Component);export default AjouterArticle;","map":{"version":3,"sources":["/Users/badrsajid/Desktop/MonCitoyen/Front-End/src/AjouterArticle.js"],"names":["React","Component","Button","Header","history","HeaderFonctionnaire","AjouterArticle","props","state","titre","contenu","isSubmitted","handleSubmit","bind","handleChange","event","preventDefault","url","fetch","method","headers","body","JSON","stringify","text","then","response","json","data","console","log","setState","push","pathname","idActualite","id","target","value","e"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Header from './Header';\nimport history from './history';\nimport HeaderFonctionnaire from './HeaderFonctionnaire';\n\nclass AjouterArticle extends Component {\n\n\n    constructor(props) {\n        super(props);\n        this.state = {titre:\"\", contenu: \"\",isSubmitted:\"\"};\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    handleSubmit(event)  {\n        event.preventDefault();\n\n        const url = \"http://localhost:8080/Web-Project/project/AddActualite/\";\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                titre: this.state.titre,\n                text: this.state.contenu,\n            })\n        }).then((response) => response.json()).then( (data) => {\n\n            console.log(data);\n\n            if (data){\n                this.setState({isSubmitted: \"true\"});\n            } else {\n                this.setState({isSubmitted: \"true\"});\n            }\n            if (this.state.isSubmitted ==\"true\"){\n                history.push({pathname: \"/UploadImageArticle\",\n                                state: {idActualite: data.id}})\n            }\n        })\n    }\n\n    handleChange(event) {\n        this.setState({contenu: event.target.value});\n    }\n\n\n    render() {\n        return (\n            <div className=\"AjouterArticle\">\n                <HeaderFonctionnaire />\n                <hr className=\"overall-separator\" />\n\n                <h2 className=\"reponse-title\"> Ajouter un article </h2>\n                <br></br>\n                <form onSubmit={this.handleSubmit}>\n                    <div className=\"form-group\">\n                        <label>Titre de l'article</label>\n                        <input type=\"text\" onChange={(e) => {this.setState({titre: e.target.value})}}  className=\"form-control\" placeholder=\"Entrer le titre de l'article\"/>\n                    </div>\n                    <br></br>\n                    <label>Contenu de l'article</label>\n                    <div className=\"form-group\">\n                        <textarea ref='myTextarea' title=\"Entrer le contenu\" onChange={(e) => {this.setState({contenu: e.target.value})}} rows=\"20\" cols=\"117\">\n                </textarea>\n                    </div>\n                    <br></br>\n                    <button type=\"submit\" className=\"btn   btn-primary btn-block\">Ajouter une photo</button>\n                    <br></br>\n                </form>\n            </div>\n          );\n }\n}\n\n\nexport default AjouterArticle;"]},"metadata":{},"sourceType":"module"}