{"ast":null,"code":"var _jsxFileName = \"/home/issam/Desktop/Projet React/try/src/UploadImageArticle.js\";\nimport React, { Component } from \"react\";\nimport './auth-css/auth.css';\nimport history from './history';\nimport Header from './Header';\nimport { withRouter } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UploadImageArticle extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filenames: [],\n      disable: false\n    };\n    this.onFileChange = this.onFileChange.bind(this);\n    this.onButtonClick = this.onButtonClick.bind(this);\n  }\n\n  onButtonClick() {\n    history.push(\"/HomeFonctionnaire\");\n  }\n\n  onFileChange(event) {\n    const candidatureID = 1;\n\n    if (Array.from(event.target.files).length != 1) {\n      event.preventDefault();\n      alert(`Il faut télécharger une seule image`);\n      return;\n    }\n\n    const fileName = this.props.location.state.idActualite + event.target.files[0].name;\n    const url = \"http://localhost:8080/Web-Project/project/AddImageActualite/\" + this.props.location.state.idActualit + \"/\" + fileName;\n    fetch(url, {\n      method: \"put\",\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(HeaderFonctionnaire, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"overall-separator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        class: \"UploadCarteSejourH1\",\n        children: \"T\\xE9l\\xE9charger votre CV\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        method: \"POST\",\n        action: \"http://localhost:8080/Web-Project/upload\",\n        enctype: \"multipart/form-data\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              class: \"upload-file\",\n              type: \"file\",\n              name: \"file\",\n              multiple: true,\n              onChange: this.onFileChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"id\",\n              value: this.props.location.state.idActualite,\n              hidden: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            name: \"submit\",\n            className: \"btn   btn-primary btn-block btn-upload\",\n            value: \"Publier\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(UploadImageArticle);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/issam/Desktop/Projet React/try/src/UploadImageArticle.js"],"names":["React","Component","history","Header","withRouter","UploadImageArticle","constructor","props","state","filenames","disable","onFileChange","bind","onButtonClick","push","event","candidatureID","Array","from","target","files","length","preventDefault","alert","fileName","location","idActualite","name","url","idActualit","fetch","method","headers","render"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport './auth-css/auth.css';\nimport history from './history';\nimport Header from './Header';\nimport { withRouter } from \"react-router-dom\";\n\n\nclass UploadImageArticle extends Component {\n    constructor(props){\n        super(props);\n        this.state ={\n            filenames:[],\n           disable:false,\n        }\n        this.onFileChange = this.onFileChange.bind(this);\n        this.onButtonClick = this.onButtonClick.bind(this);\n    }\n    onButtonClick(){\n        history.push(\"/HomeFonctionnaire\");\n    }\n\n    onFileChange(event){\n        const candidatureID = 1;\n        if (Array.from(event.target.files).length != 1) {\n            event.preventDefault();\n            alert(`Il faut télécharger une seule image`);\n            return;\n        }\n        const fileName = this.props.location.state.idActualite+event.target.files[0].name;\n        const url = \"http://localhost:8080/Web-Project/project/AddImageActualite/\"+this.props.location.state.idActualit+\"/\"+fileName;\n\n        fetch(url, {\n            method: \"put\",\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json'\n            }\n            })\n\n    }\n    render() {\n      return (\n          <div>\n              <HeaderFonctionnaire />\n              <hr className=\"overall-separator\"/>\n              <h1 class=\"UploadCarteSejourH1\" >Télécharger votre CV</h1>\n              <form method=\"POST\" action=\"http://localhost:8080/Web-Project/upload\" enctype=\"multipart/form-data\">\n                <table>\n                    <div className=\"form-group\">\n                        <br></br>\n                        <input class =\"upload-file\" type=\"file\" name=\"file\" multiple onChange={this.onFileChange}/>\n                        <input type=\"text\" name=\"id\" value={this.props.location.state.idActualite} hidden/>\n                    </div>\n                    <br></br>\n                    <br></br>\n                    <input type=\"submit\" name=\"submit\" className=\"btn   btn-primary btn-block btn-upload\" value=\"Publier\" />\n                </table>\n            </form>\n          </div>\n\n      )\n    }\n  }\n  export default withRouter(UploadImageArticle);"]},"metadata":{},"sourceType":"module"}