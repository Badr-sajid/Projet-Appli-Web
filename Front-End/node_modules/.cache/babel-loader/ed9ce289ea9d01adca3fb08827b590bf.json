{"ast":null,"code":"import _slicedToArray from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _createForOfIteratorHelper from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Button from'@material-ui/core/Button';import Header from'./Header';import HeaderFonctionnaire from'./HeaderFonctionnaire';import history from'./history';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TraitementCandidature=/*#__PURE__*/function(_Component){_inherits(TraitementCandidature,_Component);var _super=_createSuper(TraitementCandidature);function TraitementCandidature(props){var _this;_classCallCheck(this,TraitementCandidature);_this=_super.call(this,props);_this.state={items:[]};return _this;}_createClass(TraitementCandidature,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"http://localhost:8080/Web-Project/project/GetCandidature\").then(function(res){return res.json();}).then(function(result){_this2.setState({isLoaded:true,items:result});},// Remarque : il est important de traiter les erreurs ici\n// au lieu d'utiliser un bloc catch(), pour ne pas passer à la trappe\n// des exceptions provenant de réels bugs du composant.\nfunction(error){_this2.setState({isLoaded:true,error:error});});}},{key:\"render\",value:function render(){var _this3=this;var candidatures=this.state.items;var elements=[];var _iterator=_createForOfIteratorHelper(Array.from(candidatures.entries()).reverse()),_step;try{var _loop=function _loop(){var _step$value=_slicedToArray(_step.value,2),index=_step$value[0],value=_step$value[1];if(value.etat==\"nontraite\"){elements.push(/*#__PURE__*/_jsxs(\"div\",{className:\"demandes-container\",children:[/*#__PURE__*/_jsx(\"hr\",{className:\"separate-demandes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"demandes-1-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"demandes-content-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"demande-text\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\" Candidature de l'offre : \",value.offre.titre,\" - \",value.offre.typeDePoste,\" \"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"demande-buttons\",children:/*#__PURE__*/_jsx(\"button\",{className:\"traiter\",type:\"button\",onClick:function onClick(){return history.push({pathname:\"/ConsulterCandidature\",state:{idCitoyen:_this3.props.id,idCandidature:value.id}});},children:\"Consulter\"})})]})}),/*#__PURE__*/_jsx(\"hr\",{className:\"separate-demandes\"})]}));}};for(_iterator.s();!(_step=_iterator.n()).done;){_loop();}}catch(err){_iterator.e(err);}finally{_iterator.f();}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(HeaderFonctionnaire,{}),/*#__PURE__*/_jsx(\"hr\",{className:\"overall-separator\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"offre-title\",children:\" Candidatures en cours :\"}),/*#__PURE__*/_jsx(\"br\",{}),elements,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h2\",{className:\"offre-title\",children:\" Ajouter des offres :\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{className:\"gerer-demandes\",variant:\"contained\",color:\"default\",onClick:function onClick(){return history.push(\"/AjouterOffre\");},children:\" Ajouter une offre \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"end\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"center\",{children:[\"Copyright \",/*#__PURE__*/_jsx(\"span\",{children:\"\\xA9\"}),\" 2021 tous les droits r\\xE9s\\xE9rv\\xE9s.\"]})]})]});}}]);return TraitementCandidature;}(Component);export default TraitementCandidature;","map":{"version":3,"sources":["/Users/badrsajid/Desktop/MonCitoyen/Front-End/src/TraitementCandidature.js"],"names":["React","Component","Button","Header","HeaderFonctionnaire","history","TraitementCandidature","props","state","items","fetch","then","res","json","result","setState","isLoaded","error","candidatures","elements","Array","from","entries","reverse","index","value","etat","push","offre","titre","typeDePoste","pathname","idCitoyen","id","idCandidature"],"mappings":"g+BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,mBAAP,KAAgC,uBAAhC,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,C,2FAGMC,CAAAA,qB,8HAGF,+BAAYC,KAAZ,CAAmB,uDACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CAACC,KAAK,CAAE,EAAR,CAAb,CAFe,aAGlB,C,mEAGG,4BAAoB,iBAChBC,KAAK,CAAC,0DAAD,CAAL,CACCC,IADD,CACM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADT,EAECF,IAFD,CAGI,SAACG,MAAD,CAAY,CACZ,MAAI,CAACC,QAAL,CAAc,CACVC,QAAQ,CAAE,IADA,CAEVP,KAAK,CAAEK,MAFG,CAAd,EAIC,CARL,CASI;AACA;AACA;AACA,SAACG,KAAD,CAAW,CACX,MAAI,CAACF,QAAL,CAAc,CACVC,QAAQ,CAAE,IADA,CAEVC,KAAK,CAALA,KAFU,CAAd,EAIC,CAjBL,EAmBC,C,sBAGT,iBAAS,iBAGL,GAAMC,CAAAA,YAAY,CAAG,KAAKV,KAAL,CAAWC,KAAhC,CAEA,GAAMU,CAAAA,QAAQ,CAAG,EAAjB,CALK,yCASuBC,KAAK,CAACC,IAAN,CAAWH,YAAY,CAACI,OAAb,EAAX,EAAmCC,OAAnC,EATvB,qFASMC,KATN,gBASaC,KATb,gBAUD,GAAIA,KAAK,CAACC,IAAN,EAAc,WAAlB,CAA+B,CACnBP,QAAQ,CAACQ,IAAT,cACQ,aAAK,SAAS,CAAC,oBAAf,wBACA,WAAI,SAAS,CAAC,mBAAd,EADA,cAEA,YAAK,SAAS,CAAC,sBAAf,uBACI,aAAK,SAAS,CAAC,4BAAf,wBACI,YAAK,SAAS,CAAC,cAAf,uBACI,qDAAiCF,KAAK,CAACG,KAAN,CAAYC,KAA7C,OAAuDJ,KAAK,CAACG,KAAN,CAAYE,WAAnE,OADJ,EADJ,cAII,YAAK,SAAS,CAAC,iBAAf,uBACI,eAAQ,SAAS,CAAC,SAAlB,CAA4B,IAAI,CAAC,QAAjC,CACC,OAAO,CAAE,yBAAMzB,CAAAA,OAAO,CAACsB,IAAR,CAAa,CAACI,QAAQ,CAAE,uBAAX,CAC7BvB,KAAK,CAAE,CAACwB,SAAS,CAAC,MAAI,CAACzB,KAAL,CAAW0B,EAAtB,CAA2BC,aAAa,CAAET,KAAK,CAACQ,EAAhD,CADsB,CAAb,CAAN,EADV,uBADJ,EAJJ,GADJ,EAFA,cAcA,WAAI,SAAS,CAAC,mBAAd,EAdA,GADR,EAkBP,CA7BJ,EASL,+CAA0E,SAsBzE,CA/BI,qDAkCP,mBAEE,oCACM,KAAC,mBAAD,IADN,cAEM,WAAI,SAAS,CAAC,mBAAd,EAFN,cAIM,WAAI,SAAS,CAAC,aAAd,sCAJN,cAKM,aALN,CAMOd,QANP,cAOM,aAPN,cASM,WAAI,SAAS,CAAC,aAAd,mCATN,cAUM,aAVN,cAYM,KAAC,MAAD,EAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAC,WAA3C,CAAuD,KAAK,CAAC,SAA7D,CAAuE,OAAO,CAAE,yBAAMd,CAAAA,OAAO,CAACsB,IAAR,CAAa,eAAb,CAAN,EAAhF,iCAZN,cAaM,aAbN,cAeM,aAAK,SAAS,CAAC,KAAf,wBACA,aADA,cAEA,aAFA,cAIA,aAJA,cAOA,oDAAkB,8BAAlB,8CAPA,GAfN,GAFF,CA8BD,C,mCAhG+B1B,S,EAoGpC,cAAeK,CAAAA,qBAAf","sourcesContent":["import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\n\nimport Header from './Header';\nimport HeaderFonctionnaire from './HeaderFonctionnaire';\nimport history from './history';\n\n\nclass TraitementCandidature extends Component {\n\n\n    constructor(props) {\n        super(props);\n        this.state = {items: []};\n    }\n\n    \n        componentDidMount() {\n            fetch(\"http://localhost:8080/Web-Project/project/GetCandidature\")\n            .then(res => res.json())\n            .then(\n                (result) => {\n                this.setState({\n                    isLoaded: true,\n                    items: result\n                });\n                },\n                // Remarque : il est important de traiter les erreurs ici\n                // au lieu d'utiliser un bloc catch(), pour ne pas passer à la trappe\n                // des exceptions provenant de réels bugs du composant.\n                (error) => {\n                this.setState({\n                    isLoaded: true,\n                    error\n                });\n                }\n            )\n            }\n  \n  \n    render() {\n\n\n        const candidatures = this.state.items;\n\n        const elements = [];\n\n\n\n        for (const[index, value] of Array.from(candidatures.entries()).reverse()) {\n            if (value.etat == \"nontraite\") {\n                        elements.push(\n                                <div className=\"demandes-container\" >\n                                <hr className=\"separate-demandes\"></hr>\n                                <div className=\"demandes-1-container\">\n                                    <div className=\"demandes-content-container\" >\n                                        <div className=\"demande-text\">\n                                            <span> Candidature de l'offre : {value.offre.titre} - {value.offre.typeDePoste} </span>\n                                        </div>\n                                        <div className=\"demande-buttons\">\n                                            <button className=\"traiter\" type=\"button\"\n                                             onClick={() => history.push({pathname: \"/ConsulterCandidature\",\n                                            state: {idCitoyen:this.props.id , idCandidature: value.id}})}>Consulter</button>\n                                        </div>\n                                    </div>\n                                </div>\n                                <hr className=\"separate-demandes\"></hr>\n                            </div>\n                        )\n                }\n            \n        }\n\n\n      return (\n\n        <div>\n              <HeaderFonctionnaire />   \n              <hr className=\"overall-separator\" />\n           \n              <h2 className=\"offre-title\"> Candidatures en cours :</h2>\n              <br></br>\n              {elements}\n              <br></br>\n\n              <h2 className=\"offre-title\"> Ajouter des offres :</h2>\n              <br></br>\n\n              <Button className=\"gerer-demandes\" variant=\"contained\" color=\"default\" onClick={() => history.push(\"/AjouterOffre\")}> Ajouter une offre </Button>\n              <br></br>\n\n              <div className=\"end\">\n              <br></br>\n              <br></br>\n\n              <br></br>\n\n\n              <center>Copyright <span>&#169;</span> 2021 tous les droits résérvés.</center>\n              </div>\n        </div>\n\n        \n      );\n    }\n}\n\n\nexport default TraitementCandidature;"]},"metadata":{},"sourceType":"module"}