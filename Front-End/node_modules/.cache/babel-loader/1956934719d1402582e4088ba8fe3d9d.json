{"ast":null,"code":"var _jsxFileName = \"/home/issam/Desktop/Projet React/try/src/UploadCarteSejour.js\";\nimport React, { Component } from \"react\";\nimport './auth-css/auth.css';\nimport HeaderCitoyen from './HeaderCitoyen';\nimport history from './history';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UploadCarteSejour extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filenames: [],\n      disable: false\n    };\n    this.onFileChange = this.onFileChange.bind(this);\n    this.onButtonClick = this.onButtonClick.bind(this);\n  }\n\n  onButtonClick() {\n    history.push({\n      pathname: \"/DemarchesCitoyen\",\n      state: {\n        id: this.props.location.state.id\n      }\n    });\n  }\n\n  onFileChange(event) {\n    if (Array.from(event.target.files).length != 3) {\n      event.preventDefault();\n      alert(`Le nombre des fichiers à télécharger est ${3}`);\n      return;\n    }\n\n    const fileNames = event.target.files[0].name + \"--\" + event.target.files[1].name + \"--\" + event.target.files[2].name;\n    console.log(fileNames);\n    const url = \"http://localhost:8080/Web-Project/project/AjouterDocumentCarteSejourByEmail/\" + this.props.location.state.id + \"/\" + fileNames;\n    fetch(url, {\n      method: \"put\",\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(HeaderCitoyen, {\n        id: this.props.location.state.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"overall-separator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        class: \"UploadCarteSejourH1\",\n        children: \"T\\xE9l\\xE9charger les documents n\\xE9cessaires \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        method: \"POST\",\n        action: \"http://localhost:8080/Web-Project/Upload\",\n        enctype: \"multipart/form-data\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              class: \"DocumentsLabel\",\n              path: \"file\",\n              children: \"Veuillez Selectionner les fichiers suivants : Justificatif des revenus, Signature, Photo :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              class: \"upload-file\",\n              type: \"file\",\n              name: \"file\",\n              multiple: true,\n              onChange: this.onFileChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"id\",\n              value: this.props.location.state.id,\n              hidden: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            name: \"submit\",\n            className: \"btn   btn-primary btn-block btn-upload\",\n            value: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nexport default UploadCarteSejour;","map":{"version":3,"sources":["/home/issam/Desktop/Projet React/try/src/UploadCarteSejour.js"],"names":["React","Component","HeaderCitoyen","history","UploadCarteSejour","constructor","props","state","filenames","disable","onFileChange","bind","onButtonClick","push","pathname","id","location","event","Array","from","target","files","length","preventDefault","alert","fileNames","name","console","log","url","fetch","method","headers","render"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport './auth-css/auth.css';\nimport HeaderCitoyen from './HeaderCitoyen';\nimport history from './history';\n\nclass UploadCarteSejour extends Component {\n    constructor(props){\n        super(props);\n        this.state ={\n            filenames:[],\n           disable:false,\n        }\n        this.onFileChange = this.onFileChange.bind(this);\n        this.onButtonClick = this.onButtonClick.bind(this);\n    }\n    onButtonClick(){\n        history.push({pathname: \"/DemarchesCitoyen\",\n        state: {id: this.props.location.state.id}});\n    }\n    onFileChange(event){\n        if (Array.from(event.target.files).length != 3) {\n            event.preventDefault();\n            alert(`Le nombre des fichiers à télécharger est ${3}`);\n            return;\n          }\n        const fileNames = event.target.files[0].name+\"--\"+event.target.files[1].name+\"--\"+event.target.files[2].name;\n        console.log(fileNames);\n        const url = \"http://localhost:8080/Web-Project/project/AjouterDocumentCarteSejourByEmail/\"+this.props.location.state.id+\"/\"+fileNames;\n\n       fetch(url, {\n            method: \"put\",\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json'\n            }\n            }) \n\n    }\n    render() {\n      return (\n          <div>\n              <HeaderCitoyen id={this.props.location.state.id} />\n              <hr className=\"overall-separator\"/>\n              <h1 class=\"UploadCarteSejourH1\" >Télécharger les documents nécessaires </h1>\n              <form method=\"POST\" action=\"http://localhost:8080/Web-Project/Upload\" enctype=\"multipart/form-data\">\n                <table>\n                    <div className=\"form-group\">\n                        <h3 class=\"DocumentsLabel\" path=\"file\">Veuillez Selectionner les fichiers suivants : Justificatif des revenus, Signature, Photo :</h3>\n                        <br></br>\n                        <input class =\"upload-file\" type=\"file\" name=\"file\" multiple onChange={this.onFileChange}/>\n                        <input type=\"text\" name=\"id\" value={this.props.location.state.id} hidden/>\n                    </div>\n                    <br></br>\n                    <br></br>\n                    <input type=\"submit\" name=\"submit\" className=\"btn   btn-primary btn-block btn-upload\" value=\"Submit\" />\n                </table>\n            </form>\n          </div>\n\n      )\n    }\n  }\n  export default UploadCarteSejour;"]},"metadata":{},"sourceType":"module"}