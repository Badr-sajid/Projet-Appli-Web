{"ast":null,"code":"var _jsxFileName = \"/Users/badrsajid/Downloads/try 3/src/AjouterArticle.js\";\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Header from './Header';\nimport history from './history';\nimport HeaderFonctionnaire from './HeaderFonctionnaire';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AjouterArticle extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      titre: \"\",\n      contenu: \"\",\n      isSubmitted: \"\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    const url = \"http://localhost:8080/Web-Project/project/AddActualite/\";\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        titre: this.state.titre,\n        text: this.state.contenu\n      })\n    }).then(response => response.json()).then(data => {\n      console.log(data);\n\n      if (data) {\n        this.setState({\n          isSubmitted: \"true\"\n        });\n      } else {\n        this.setState({\n          isSubmitted: \"true\"\n        });\n      }\n\n      if (this.state.isSubmitted == \"true\") {\n        history.push({\n          pathname: \"/UploadImageArticle\",\n          state: {\n            idActualite: data.id\n          }\n        });\n      }\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      contenu: event.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"AjouterArticle\",\n      children: [/*#__PURE__*/_jsxDEV(HeaderFonctionnaire, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"overall-separator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"reponse-title\",\n        children: \" Ajouter un article \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Titre de l'article\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: e => {\n              this.setState({\n                titre: e.target.value\n              });\n            },\n            className: \"form-control\",\n            placeholder: \"Entrer le titre de l'article\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Contenu de l'article\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            ref: \"myTextarea\",\n            title: \"Entrer le contenu\",\n            onChange: e => {\n              this.setState({\n                contenu: e.target.value\n              });\n            },\n            rows: \"20\",\n            cols: \"117\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn   btn-primary btn-block\",\n          children: \"Ajouter une photo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AjouterArticle;","map":{"version":3,"sources":["/Users/badrsajid/Downloads/try 3/src/AjouterArticle.js"],"names":["React","Component","Button","Header","history","HeaderFonctionnaire","AjouterArticle","constructor","props","state","titre","contenu","isSubmitted","handleSubmit","bind","handleChange","event","preventDefault","url","fetch","method","headers","body","JSON","stringify","text","then","response","json","data","console","log","setState","push","pathname","idActualite","id","target","value","render","e"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Header from './Header';\nimport history from './history';\nimport HeaderFonctionnaire from './HeaderFonctionnaire';\n\nclass AjouterArticle extends Component {\n\n\n    constructor(props) {\n        super(props);\n        this.state = {titre:\"\", contenu: \"\",isSubmitted:\"\"};\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    handleSubmit(event)  {\n        event.preventDefault();\n\n        const url = \"http://localhost:8080/Web-Project/project/AddActualite/\";\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                titre: this.state.titre,\n                text: this.state.contenu,\n            })\n        }).then((response) => response.json()).then( (data) => {\n\n            console.log(data);\n\n            if (data){\n                this.setState({isSubmitted: \"true\"});\n            } else {\n                this.setState({isSubmitted: \"true\"});\n            }\n            if (this.state.isSubmitted ==\"true\"){\n                history.push({pathname: \"/UploadImageArticle\",\n                                state: {idActualite: data.id}})\n            }\n        })\n    }\n\n    handleChange(event) {\n        this.setState({contenu: event.target.value});\n    }\n\n\n    render() {\n        return (\n            <div className=\"AjouterArticle\">\n                <HeaderFonctionnaire />\n                <hr className=\"overall-separator\" />\n\n                <h2 className=\"reponse-title\"> Ajouter un article </h2>\n                <br></br>\n                <form onSubmit={this.handleSubmit}>\n                    <div className=\"form-group\">\n                        <label>Titre de l'article</label>\n                        <input type=\"text\" onChange={(e) => {this.setState({titre: e.target.value})}}  className=\"form-control\" placeholder=\"Entrer le titre de l'article\"/>\n                    </div>\n                    <br></br>\n                    <label>Contenu de l'article</label>\n                    <div className=\"form-group\">\n                        <textarea ref='myTextarea' title=\"Entrer le contenu\" onChange={(e) => {this.setState({contenu: e.target.value})}} rows=\"20\" cols=\"117\">\n                </textarea>\n                    </div>\n                    <br></br>\n                    <button type=\"submit\" className=\"btn   btn-primary btn-block\">Ajouter une photo</button>\n                    <br></br>\n                </form>\n            </div>\n          );\n }\n}\n\n\nexport default AjouterArticle;"]},"metadata":{},"sourceType":"module"}