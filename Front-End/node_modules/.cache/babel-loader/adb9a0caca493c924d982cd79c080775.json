{"ast":null,"code":"import _classCallCheck from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import'./auth-css/auth.css';import HeaderCitoyen from'./HeaderCitoyen';import history from'./history';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UploadImmatriculation=/*#__PURE__*/function(_Component){_inherits(UploadImmatriculation,_Component);var _super=_createSuper(UploadImmatriculation);function UploadImmatriculation(props){var _this;_classCallCheck(this,UploadImmatriculation);_this=_super.call(this,props);_this.state={filenames:[],disable:false};_this.onFileChange=_this.onFileChange.bind(_assertThisInitialized(_this));_this.onButtonClick=_this.onButtonClick.bind(_assertThisInitialized(_this));return _this;}_createClass(UploadImmatriculation,[{key:\"onButtonClick\",value:function onButtonClick(){history.push({pathname:\"/DemarchesCitoyen\",state:{id:this.props.location.state.id}});}},{key:\"onFileChange\",value:function onFileChange(event){if(Array.from(event.target.files).length!=3){event.preventDefault();alert(\"Le nombre des fichiers \\xE0 t\\xE9l\\xE9charger est \".concat(3));return;}var fileNames=this.props.location.state.id+\"-\"+event.target.files[0].name+\"--\"+this.props.location.state.id+\"-\"+event.target.files[1].name+\"--\"+this.props.location.state.id+\"-\"+event.target.files[2].name;console.log(fileNames);var url=\"http://localhost:8080/Web-Project/project/AjouterDocumentImmatriculationByEmail/\"+this.props.location.state.id+\"/\"+fileNames;fetch(url,{method:\"put\",headers:{'Accept':'application/json','Content-Type':'application/json'}});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(HeaderCitoyen,{id:this.props.location.state.id}),/*#__PURE__*/_jsx(\"hr\",{className:\"overall-separator\"}),/*#__PURE__*/_jsx(\"h1\",{class:\"UploadCarteSejourH1\",children:\"T\\xE9l\\xE9charger les documents n\\xE9cessaires \"}),/*#__PURE__*/_jsx(\"form\",{method:\"POST\",action:\"http://localhost:8080/Web-Project/Upload\",enctype:\"multipart/form-data\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"h3\",{class:\"DocumentsLabel\",path:\"file\",children:\"Veuillez Selectionner les fichiers suivants : Justificatif des revenus, Signature, Photo :\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{class:\"upload-file\",type:\"file\",name:\"file\",multiple:true,onChange:this.onFileChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"id\",value:this.props.location.state.id,hidden:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",name:\"submit\",className:\"btn   btn-primary btn-block btn-upload\",value:\"Submit\"})]})})]});}}]);return UploadImmatriculation;}(Component);export default UploadImmatriculation;","map":{"version":3,"sources":["/Users/badrsajid/Desktop/MonCitoyen/Front-End/src/UploadImmatriculation.js"],"names":["React","Component","HeaderCitoyen","history","UploadImmatriculation","props","state","filenames","disable","onFileChange","bind","onButtonClick","push","pathname","id","location","event","Array","from","target","files","length","preventDefault","alert","fileNames","name","console","log","url","fetch","method","headers"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport './auth-css/auth.css';\nimport HeaderCitoyen from './HeaderCitoyen';\nimport history from './history';\n\nclass UploadImmatriculation extends Component {\n    constructor(props){\n        super(props);\n        this.state ={\n            filenames:[],\n           disable:false,\n        }\n        this.onFileChange = this.onFileChange.bind(this);\n        this.onButtonClick = this.onButtonClick.bind(this);\n    }\n    onButtonClick(){\n        history.push({pathname: \"/DemarchesCitoyen\",\n        state: {id: this.props.location.state.id}});\n    }\n    onFileChange(event){\n        if (Array.from(event.target.files).length != 3) {\n            event.preventDefault();\n            alert(`Le nombre des fichiers à télécharger est ${3}`);\n            return;\n          }\n        const fileNames = this.props.location.state.id+\"-\"+event.target.files[0].name+\"--\"+this.props.location.state.id+\"-\"+event.target.files[1].name+\"--\"+this.props.location.state.id+\"-\"+event.target.files[2].name;\n        console.log(fileNames);\n        const url = \"http://localhost:8080/Web-Project/project/AjouterDocumentImmatriculationByEmail/\"+this.props.location.state.id+\"/\"+fileNames;\n\n       fetch(url, {\n            method: \"put\",\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json'\n            }\n            }) \n\n    }\n    render() {\n      return (\n          <div>\n              <HeaderCitoyen id={this.props.location.state.id} />\n              <hr className=\"overall-separator\"/>\n              <h1 class=\"UploadCarteSejourH1\" >Télécharger les documents nécessaires </h1>\n              <form method=\"POST\" action=\"http://localhost:8080/Web-Project/Upload\" enctype=\"multipart/form-data\">\n                <table>\n                    <div className=\"form-group\">\n                        <h3 class=\"DocumentsLabel\" path=\"file\">Veuillez Selectionner les fichiers suivants : Justificatif des revenus, Signature, Photo :</h3>\n                        <br></br>\n                        <input class =\"upload-file\" type=\"file\" name=\"file\" multiple onChange={this.onFileChange}/>\n                        <input type=\"text\" name=\"id\" value={this.props.location.state.id} hidden/>\n                    </div>\n                    <br></br>\n                    <br></br>\n                    <input type=\"submit\" name=\"submit\" className=\"btn   btn-primary btn-block btn-upload\" value=\"Submit\" />\n                </table>\n            </form>\n          </div>\n\n      )\n    }\n  }\n  export default UploadImmatriculation;"]},"metadata":{},"sourceType":"module"}