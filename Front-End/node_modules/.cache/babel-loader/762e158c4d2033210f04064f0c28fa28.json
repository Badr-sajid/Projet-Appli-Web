{"ast":null,"code":"var _jsxFileName = \"/home/issam/Desktop/Projet React/try/src/AjouterOffre.js\";\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Header from './Header';\nimport HeaderFonctionnaire from './HeaderFonctionnaire';\nimport history from './history';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AjouterOffre extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedFile: null,\n      userdata: {},\n      titre: \"\",\n      description: \"\",\n      nomEntreprise: \"\",\n      typeDePoste: \"\",\n      duree: \"\",\n      remuneration: \"\",\n      dateDebut: \"\",\n      postePourvu: \"false\"\n    };\n    this.onFormSubmit = this.onFormSubmit.bind(this);\n  }\n\n  onFormSubmit(e) {\n    e.preventDefault(); // Stop form submit\n    // Ajout Citoyen\n\n    fetch(\"http://localhost:8080/Web-Project/project/AddDemande\", {\n      method: \"post\",\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        citoyen: {\n          id: this.state.idCitoyen\n        },\n        typeDemande: \"carte\",\n        estTraite: \"false\",\n        demandeCarteSejour: {\n          genre: this.state.userdata[\"civilite\"],\n          nom: this.state.userdata[\"nom\"],\n          prenom: this.state.userdata[\"prenom\"],\n          adresse: this.state.adresse,\n          datedenaissance: this.state.userdata[\"dateDeNaissance\"],\n          lieudenaissance: this.state.userdata[\"lieuDeNaissance\"],\n          nationnalite: this.state.userdata[\"nationalite\"],\n          statut: this.state.userdata[\"statut\"],\n          revenumensuel: this.state.revenu,\n          documents: null\n        }\n      })\n    });\n    history.push({\n      pathname: \"/UploadCarteSejour\",\n      state: {\n        id: this.props.location.state.id\n      }\n    });\n  }\n\n  componentDidMount() {\n    // Recuperer les informations de citoyen.\n    const url = \"http://localhost:8080/Web-Project/project/GetLoginId/\" + this.props.location.state.id;\n    fetch(url).then(res => res.json()).then(result => {\n      this.setState({\n        idCitoyen: result[0][\"idLogin\"]\n      });\n      const url2 = \"http://localhost:8080/Web-Project/project/GetCitoyenById/\" + result[0][\"idLogin\"];\n      fetch(url2).then(res => res.json()).then(data => {\n        console.log(data);\n        this.setState({\n          userdata: data\n        });\n      }, // Remarque : il est important de traiter les erreurs ici\n      // au lieu d'utiliser un bloc catch(), pour ne pas passer à la trappe\n      // des exceptions provenant de réels bugs du composant.\n      error => {});\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(HeaderFonctionnaire, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"overall-separator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.onFormSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"carte-sejour\",\n          children: \"Ajout d'une nouvelle Offre\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Titre\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"nom\",\n            className: \"form-control\",\n            disabled: true,\n            value: this.state.userdata[\"nom\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"prenom\",\n            className: \"form-control\",\n            disabled: true,\n            value: this.state.userdata[\"prenom\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Nom de l'entreprise affili\\xE9e \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            className: \"form-control\",\n            id: \"start\",\n            name: \"trip-start\",\n            disabled: true,\n            value: this.state.userdata[\"dateDeNaissance\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Type de poste \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"lieudenaissance\",\n            className: \"form-control\",\n            disabled: true,\n            value: this.state.userdata[\"lieuDeNaissance\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Dur\\xE9e \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"nationalite\",\n            className: \"form-control\",\n            disabled: true,\n            value: this.state.userdata[\"nationalite\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"R\\xE9num\\xE9ration \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"statut\",\n            className: \"form-control\",\n            value: this.state.userdata[\"statut\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Date de d\\xE9but \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"adresse\",\n            className: \"form-control\",\n            onChange: e => {\n              this.setState({\n                adresse: e.target.value\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn   btn-primary btn-block\",\n          children: \"Envoyer la demande\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nexport default AjouterOffre;","map":{"version":3,"sources":["/home/issam/Desktop/Projet React/try/src/AjouterOffre.js"],"names":["React","Component","Button","Header","HeaderFonctionnaire","history","AjouterOffre","constructor","props","state","selectedFile","userdata","titre","description","nomEntreprise","typeDePoste","duree","remuneration","dateDebut","postePourvu","onFormSubmit","bind","e","preventDefault","fetch","method","headers","body","JSON","stringify","citoyen","id","idCitoyen","typeDemande","estTraite","demandeCarteSejour","genre","nom","prenom","adresse","datedenaissance","lieudenaissance","nationnalite","statut","revenumensuel","revenu","documents","push","pathname","location","componentDidMount","url","then","res","json","result","setState","url2","data","console","log","error","render","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AAEA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,mBAAP,MAAgC,uBAAhC;AACA,OAAOC,OAAP,MAAoB,WAApB;;;AAGA,MAAMC,YAAN,SAA2BL,SAA3B,CAAqC;AAEjCM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAY;AACRC,MAAAA,YAAY,EAAC,IADL;AAERC,MAAAA,QAAQ,EAAC,EAFD;AAGRC,MAAAA,KAAK,EAAC,EAHE;AAIRC,MAAAA,WAAW,EAAE,EAJL;AAKRC,MAAAA,aAAa,EAAE,EALP;AAMRC,MAAAA,WAAW,EAAE,EANL;AAORC,MAAAA,KAAK,EAAC,EAPE;AAQRC,MAAAA,YAAY,EAAC,EARL;AASRC,MAAAA,SAAS,EAAC,EATF;AAURC,MAAAA,WAAW,EAAC;AAVJ,KAAZ;AAYA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACH;;AACDD,EAAAA,YAAY,CAACE,CAAD,EAAG;AACXA,IAAAA,CAAC,CAACC,cAAF,GADW,CACQ;AAET;;AACVC,IAAAA,KAAK,CAAC,sDAAD,EAAyD;AAC5DC,MAAAA,MAAM,EAAE,MADoD;AAE5DC,MAAAA,OAAO,EAAE;AACP,kBAAU,kBADH;AAEP,wBAAgB;AAFT,OAFmD;AAM5DC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,OAAO,EAAE;AAACC,UAAAA,EAAE,EAAE,KAAKtB,KAAL,CAAWuB;AAAhB,SADU;AAEnBC,QAAAA,WAAW,EAAE,OAFM;AAGnBC,QAAAA,SAAS,EAAE,OAHQ;AAInBC,QAAAA,kBAAkB,EAAE;AAClBC,UAAAA,KAAK,EAAE,KAAK3B,KAAL,CAAWE,QAAX,CAAoB,UAApB,CADW;AAElB0B,UAAAA,GAAG,EAAE,KAAK5B,KAAL,CAAWE,QAAX,CAAoB,KAApB,CAFa;AAGlB2B,UAAAA,MAAM,EAAE,KAAK7B,KAAL,CAAWE,QAAX,CAAoB,QAApB,CAHU;AAIlB4B,UAAAA,OAAO,EAAE,KAAK9B,KAAL,CAAW8B,OAJF;AAKlBC,UAAAA,eAAe,EAAE,KAAK/B,KAAL,CAAWE,QAAX,CAAoB,iBAApB,CALC;AAMlB8B,UAAAA,eAAe,EAAE,KAAKhC,KAAL,CAAWE,QAAX,CAAoB,iBAApB,CANC;AAOlB+B,UAAAA,YAAY,EAAE,KAAKjC,KAAL,CAAWE,QAAX,CAAoB,aAApB,CAPI;AAQlBgC,UAAAA,MAAM,EAAE,KAAKlC,KAAL,CAAWE,QAAX,CAAoB,QAApB,CARU;AASlBiC,UAAAA,aAAa,EAAE,KAAKnC,KAAL,CAAWoC,MATR;AAUlBC,UAAAA,SAAS,EAAE;AAVO;AAJD,OAAf;AANsD,KAAzD,CAAL;AA0BEzC,IAAAA,OAAO,CAAC0C,IAAR,CAAa;AAACC,MAAAA,QAAQ,EAAE,oBAAX;AACbvC,MAAAA,KAAK,EAAE;AAACsB,QAAAA,EAAE,EAAE,KAAKvB,KAAL,CAAWyC,QAAX,CAAoBxC,KAApB,CAA0BsB;AAA/B;AADM,KAAb;AAGL;;AAGDmB,EAAAA,iBAAiB,GAAE;AACf;AACA,UAAMC,GAAG,GAAG,0DAAwD,KAAK3C,KAAL,CAAWyC,QAAX,CAAoBxC,KAApB,CAA0BsB,EAA9F;AAEAP,IAAAA,KAAK,CAAC2B,GAAD,CAAL,CAAWC,IAAX,CAAgBC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAAvB,EAAmCF,IAAnC,CAAyCG,MAAD,IAAY;AAClD,WAAKC,QAAL,CAAc;AAACxB,QAAAA,SAAS,EAAEuB,MAAM,CAAC,CAAD,CAAN,CAAU,SAAV;AAAZ,OAAd;AACA,YAAME,IAAI,GAAG,8DAA4DF,MAAM,CAAC,CAAD,CAAN,CAAU,SAAV,CAAzE;AACA/B,MAAAA,KAAK,CAACiC,IAAD,CAAL,CACKL,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAGKM,IAAD,IAAU;AACRC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,aAAKF,QAAL,CAAc;AAAC7C,UAAAA,QAAQ,EAAE+C;AAAX,SAAd;AACD,OANL,EAOI;AACA;AACA;AACCG,MAAAA,KAAD,IAAW,CAEV,CAZL;AAaM,KAhBR;AAkBH;;AAEDC,EAAAA,MAAM,GAAE;AACJ,wBACE;AAAA,8BACM,QAAC,mBAAD;AAAA;AAAA;AAAA;AAAA,cADN,eAEM;AAAI,QAAA,SAAS,EAAC;AAAd;AAAA;AAAA;AAAA;AAAA,cAFN,eAIM;AAAM,QAAA,QAAQ,EAAE,KAAK1C,YAArB;AAAA,gCACI;AAAI,UAAA,SAAS,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,IAAI,EAAC,KAAxB;AAA8B,YAAA,SAAS,EAAC,cAAxC;AAAuD,YAAA,QAAQ,MAA/D;AAAgE,YAAA,KAAK,EAAE,KAAKX,KAAL,CAAWE,QAAX,CAAoB,KAApB;AAAvE;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAMI;AAAA;AAAA;AAAA;AAAA,gBANJ,eAOI;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,IAAI,EAAC,QAAxB;AAAiC,YAAA,SAAS,EAAC,cAA3C;AAA0D,YAAA,QAAQ,MAAlE;AAAmE,YAAA,KAAK,EAAE,KAAKF,KAAL,CAAWE,QAAX,CAAoB,QAApB;AAA1E;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPJ,eAWI;AAAA;AAAA;AAAA;AAAA,gBAXJ,eAYI;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAoB,YAAA,SAAS,EAAC,cAA9B;AAA6C,YAAA,EAAE,EAAC,OAAhD;AAAwD,YAAA,IAAI,EAAC,YAA7D;AACQ,YAAA,QAAQ,MADhB;AAEQ,YAAA,KAAK,EAAE,KAAKF,KAAL,CAAWE,QAAX,CAAoB,iBAApB;AAFf;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAZJ,eAmBI;AAAA;AAAA;AAAA;AAAA,gBAnBJ,eAoBI;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,kCACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAEA;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,IAAI,EAAC,iBAAxB;AAA0C,YAAA,SAAS,EAAC,cAApD;AAAmE,YAAA,QAAQ,MAA3E;AAA4E,YAAA,KAAK,EAAE,KAAKF,KAAL,CAAWE,QAAX,CAAoB,iBAApB;AAAnF;AAAA;AAAA;AAAA;AAAA,kBAFA;AAAA;AAAA;AAAA;AAAA;AAAA,gBApBJ,eAwBI;AAAA;AAAA;AAAA;AAAA,gBAxBJ,eAyBI;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,kCACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAEA;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,IAAI,EAAC,aAAxB;AAAsC,YAAA,SAAS,EAAC,cAAhD;AAA+D,YAAA,QAAQ,MAAvE;AAAwE,YAAA,KAAK,EAAE,KAAKF,KAAL,CAAWE,QAAX,CAAoB,aAApB;AAA/E;AAAA;AAAA;AAAA;AAAA,kBAFA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAzBJ,eA6BI;AAAA;AAAA;AAAA;AAAA,gBA7BJ,eA8BI;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,kCACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAEA;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,IAAI,EAAC,QAAxB;AAAiC,YAAA,SAAS,EAAC,cAA3C;AAA0D,YAAA,KAAK,EAAE,KAAKF,KAAL,CAAWE,QAAX,CAAoB,QAApB;AAAjE;AAAA;AAAA;AAAA;AAAA,kBAFA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA9BJ,eAkCI;AAAA;AAAA;AAAA;AAAA,gBAlCJ,eAmCI;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,kCACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAEA;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,IAAI,EAAC,SAAxB;AAAkC,YAAA,SAAS,EAAC,cAA5C;AAA2D,YAAA,QAAQ,EAAGW,CAAD,IAAO;AAAC,mBAAKkC,QAAL,CAAc;AAACjB,gBAAAA,OAAO,EAAEjB,CAAC,CAACyC,MAAF,CAASC;AAAnB,eAAd;AAAyC;AAAtH;AAAA;AAAA;AAAA;AAAA,kBAFA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAnCJ,eAuCI;AAAA;AAAA;AAAA;AAAA,gBAvCJ,eAwCI;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAsB,UAAA,SAAS,EAAC,6BAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAxCJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAJN;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAkDH;;AAjIgC;;AAuIrC,eAAe1D,YAAf","sourcesContent":["import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\n\nimport Header from './Header';\nimport HeaderFonctionnaire from './HeaderFonctionnaire';\nimport history from './history';\n\n\nclass AjouterOffre extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state ={\n            selectedFile:null,\n            userdata:{},\n            titre:\"\",\n            description: \"\",\n            nomEntreprise: \"\",\n            typeDePoste: \"\",\n            duree:\"\",\n            remuneration:\"\",\n            dateDebut:\"\",\n            postePourvu:\"false\",\n        }\n        this.onFormSubmit = this.onFormSubmit.bind(this);\n    }\n    onFormSubmit(e){\n        e.preventDefault() // Stop form submit\n\n                  // Ajout Citoyen\n        fetch(\"http://localhost:8080/Web-Project/project/AddDemande\", {\n          method: \"post\",\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            citoyen: {id: this.state.idCitoyen},\n            typeDemande: \"carte\",\n            estTraite: \"false\",\n            demandeCarteSejour: {\n              genre: this.state.userdata[\"civilite\"],\n              nom: this.state.userdata[\"nom\"],\n              prenom: this.state.userdata[\"prenom\"],\n              adresse: this.state.adresse,\n              datedenaissance: this.state.userdata[\"dateDeNaissance\"],\n              lieudenaissance: this.state.userdata[\"lieuDeNaissance\"],\n              nationnalite: this.state.userdata[\"nationalite\"],\n              statut: this.state.userdata[\"statut\"],\n              revenumensuel: this.state.revenu,\n              documents: null\n            }\n  \n  \n          })\n          });    \n          history.push({pathname: \"/UploadCarteSejour\",\n          state: {id: this.props.location.state.id}})\n\n    }\n\n\n    componentDidMount(){\n        // Recuperer les informations de citoyen.\n        const url = \"http://localhost:8080/Web-Project/project/GetLoginId/\"+this.props.location.state.id;\n\n        fetch(url).then(res => res.json()).then((result) => {\n          this.setState({idCitoyen: result[0][\"idLogin\"]});\n          const url2 = \"http://localhost:8080/Web-Project/project/GetCitoyenById/\"+result[0][\"idLogin\"];\n          fetch(url2)\n              .then(res => res.json())\n              .then(\n              (data) => {\n                console.log(data);\n                this.setState({userdata: data});\n              },\n              // Remarque : il est important de traiter les erreurs ici\n              // au lieu d'utiliser un bloc catch(), pour ne pas passer à la trappe\n              // des exceptions provenant de réels bugs du composant.\n              (error) => {\n\n              }\n              )})\n\n    }\n\n    render(){\n        return(\n          <div>\n                <HeaderFonctionnaire />\n                <hr className=\"overall-separator\" />\n\n                <form onSubmit={this.onFormSubmit}>\n                    <h3 className=\"carte-sejour\">Ajout d'une nouvelle Offre</h3>\n                    <div className=\"form-group\">\n                        <label>Titre</label>\n                        <input type=\"text\" name=\"nom\" className=\"form-control\" disabled value={this.state.userdata[\"nom\"]}/>\n                    </div>\n                    <br></br>\n                    <div className=\"form-group\">\n                        <label>Description</label>\n                        <input type=\"text\" name=\"prenom\" className=\"form-control\" disabled value={this.state.userdata[\"prenom\"]}/>\n                    </div>\n                    <br></br>\n                    <div className=\"form-group\">\n                        <label>Nom de l'entreprise affiliée </label>\n                        <input type=\"date\"  className=\"form-control\" id=\"start\" name=\"trip-start\"\n                                disabled\n                                value={this.state.userdata[\"dateDeNaissance\"]}\n                              />\n                    </div>\n                    <br></br>\n                    <div className=\"form-group\">\n                    <label>Type de poste </label>\n                    <input type=\"text\" name=\"lieudenaissance\" className=\"form-control\" disabled value={this.state.userdata[\"lieuDeNaissance\"]} />\n                    </div>\n                    <br></br>\n                    <div className=\"form-group\">\n                    <label>Durée </label>\n                    <input type=\"text\" name=\"nationalite\" className=\"form-control\" disabled value={this.state.userdata[\"nationalite\"]}/>\n                    </div>\n                    <br></br>\n                    <div className=\"form-group\">\n                    <label>Rénumération </label>\n                    <input type=\"text\" name=\"statut\" className=\"form-control\" value={this.state.userdata[\"statut\"]}/>\n                    </div>\n                    <br></br>\n                    <div className=\"form-group\">\n                    <label>Date de début </label>\n                    <input type=\"text\" name=\"adresse\" className=\"form-control\" onChange={(e) => {this.setState({adresse: e.target.value})}}/>\n                    </div>\n                    <br></br>\n                    <button type=\"submit\" className=\"btn   btn-primary btn-block\">Envoyer la demande</button>\n                    \n                </form>\n            </div>\n        )\n    }\n\n  \n}\n\n\nexport default AjouterOffre;"]},"metadata":{},"sourceType":"module"}