{"ast":null,"code":"import _classCallCheck from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/badrsajid/Desktop/MonCitoyen/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import'./auth-css/auth.css';import history from'./history';import HeaderFonctionnaire from'./Header';import{withRouter}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UploadImageArticle=/*#__PURE__*/function(_Component){_inherits(UploadImageArticle,_Component);var _super=_createSuper(UploadImageArticle);function UploadImageArticle(props){var _this;_classCallCheck(this,UploadImageArticle);_this=_super.call(this,props);_this.state={filenames:[],disable:false};_this.onFileChange=_this.onFileChange.bind(_assertThisInitialized(_this));_this.onButtonClick=_this.onButtonClick.bind(_assertThisInitialized(_this));return _this;}_createClass(UploadImageArticle,[{key:\"onButtonClick\",value:function onButtonClick(){history.push(\"/HomeFonctionnaire\");}},{key:\"onFileChange\",value:function onFileChange(event){var candidatureID=1;if(Array.from(event.target.files).length!=1){event.preventDefault();alert(\"Il faut t\\xE9l\\xE9charger une seule image\");return;}var fileName=\"admin@gmail.com-\"+event.target.files[0].name;var url=\"http://localhost:8080/Web-Project/project/AddImageActualite/\"+this.props.location.state.idActualite+\"/\"+fileName;fetch(url,{method:\"put\",headers:{'Accept':'application/json','Content-Type':'application/json'}});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(HeaderFonctionnaire,{}),/*#__PURE__*/_jsx(\"hr\",{className:\"overall-separator\"}),/*#__PURE__*/_jsx(\"h1\",{class:\"UploadCarteSejourH1\",children:\"T\\xE9l\\xE9charger votre CV\"}),/*#__PURE__*/_jsx(\"form\",{method:\"POST\",action:\"http://localhost:8080/Web-Project/Upload\",enctype:\"multipart/form-data\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{class:\"upload-file\",type:\"file\",name:\"file\",multiple:true,onChange:this.onFileChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"id\",value:\"admin@gmail.com\",hidden:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",name:\"submit\",className:\"btn   btn-primary btn-block btn-upload\",value:\"Publier\"})]})})]});}}]);return UploadImageArticle;}(Component);export default UploadImageArticle;","map":{"version":3,"sources":["/Users/badrsajid/Desktop/MonCitoyen/Front-End/src/UploadImageArticle.js"],"names":["React","Component","history","HeaderFonctionnaire","withRouter","UploadImageArticle","props","state","filenames","disable","onFileChange","bind","onButtonClick","push","event","candidatureID","Array","from","target","files","length","preventDefault","alert","fileName","name","url","location","idActualite","fetch","method","headers"],"mappings":"ozBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAO,qBAAP,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,mBAAP,KAAgC,UAAhC,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,2FAGMC,CAAAA,kB,wHACF,4BAAYC,KAAZ,CAAkB,oDACd,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAY,CACRC,SAAS,CAAC,EADF,CAETC,OAAO,CAAC,KAFC,CAAZ,CAIA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,aAAL,CAAqB,MAAKA,aAAL,CAAmBD,IAAnB,+BAArB,CAPc,aAQjB,C,4DAED,wBAAe,CACXT,OAAO,CAACW,IAAR,CAAa,oBAAb,EACH,C,4BAED,sBAAaC,KAAb,CAAmB,CACf,GAAMC,CAAAA,aAAa,CAAG,CAAtB,CACA,GAAIC,KAAK,CAACC,IAAN,CAAWH,KAAK,CAACI,MAAN,CAAaC,KAAxB,EAA+BC,MAA/B,EAAyC,CAA7C,CAAgD,CAC5CN,KAAK,CAACO,cAAN,GACAC,KAAK,6CAAL,CACA,OACH,CACD,GAAMC,CAAAA,QAAQ,CAAG,mBAAmBT,KAAK,CAACI,MAAN,CAAaC,KAAb,CAAmB,CAAnB,EAAsBK,IAA1D,CACA,GAAMC,CAAAA,GAAG,CAAG,+DAA+D,KAAKnB,KAAL,CAAWoB,QAAX,CAAoBnB,KAApB,CAA0BoB,WAAzF,CAAqG,GAArG,CAAyGJ,QAArH,CAEAK,KAAK,CAACH,GAAD,CAAM,CACPI,MAAM,CAAE,KADD,CAEPC,OAAO,CAAE,CACP,SAAU,kBADH,CAEP,eAAgB,kBAFT,CAFF,CAAN,CAAL,CAQH,C,sBACD,iBAAS,CACP,mBACI,oCACI,KAAC,mBAAD,IADJ,cAEI,WAAI,SAAS,CAAC,mBAAd,EAFJ,cAGI,WAAI,KAAK,CAAC,qBAAV,wCAHJ,cAII,aAAM,MAAM,CAAC,MAAb,CAAoB,MAAM,CAAC,0CAA3B,CAAsE,OAAO,CAAC,qBAA9E,uBACE,sCACI,aAAK,SAAS,CAAC,YAAf,wBACI,aADJ,cAEI,cAAO,KAAK,CAAE,aAAd,CAA4B,IAAI,CAAC,MAAjC,CAAwC,IAAI,CAAC,MAA7C,CAAoD,QAAQ,KAA5D,CAA6D,QAAQ,CAAE,KAAKpB,YAA5E,EAFJ,cAGI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,IAAxB,CAA6B,KAAK,CAAC,iBAAnC,CAAqD,MAAM,KAA3D,EAHJ,GADJ,cAMI,aANJ,cAOI,aAPJ,cAQI,cAAO,IAAI,CAAC,QAAZ,CAAqB,IAAI,CAAC,QAA1B,CAAmC,SAAS,CAAC,wCAA7C,CAAsF,KAAK,CAAC,SAA5F,EARJ,GADF,EAJJ,GADJ,CAoBD,C,gCAvD4BT,S,EAyD/B,cAAeI,CAAAA,kBAAf","sourcesContent":["import React, {Component} from \"react\";\nimport './auth-css/auth.css';\nimport history from './history';\nimport HeaderFonctionnaire from './Header';\nimport { withRouter } from \"react-router-dom\";\n\n\nclass UploadImageArticle extends Component {\n    constructor(props){\n        super(props);\n        this.state ={\n            filenames:[],\n           disable:false,\n        }\n        this.onFileChange = this.onFileChange.bind(this);\n        this.onButtonClick = this.onButtonClick.bind(this);\n    }\n    \n    onButtonClick(){\n        history.push(\"/HomeFonctionnaire\");\n    }\n\n    onFileChange(event){\n        const candidatureID = 1;\n        if (Array.from(event.target.files).length != 1) {\n            event.preventDefault();\n            alert(`Il faut télécharger une seule image`);\n            return;\n        }\n        const fileName = \"admin@gmail.com-\"+event.target.files[0].name;\n        const url = \"http://localhost:8080/Web-Project/project/AddImageActualite/\"+this.props.location.state.idActualite+\"/\"+fileName;\n\n        fetch(url, {\n            method: \"put\",\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json'\n            }\n            })\n\n    }\n    render() {\n      return (\n          <div>\n              <HeaderFonctionnaire />\n              <hr className=\"overall-separator\"/>\n              <h1 class=\"UploadCarteSejourH1\" >Télécharger votre CV</h1>\n              <form method=\"POST\" action=\"http://localhost:8080/Web-Project/Upload\" enctype=\"multipart/form-data\">\n                <table>\n                    <div className=\"form-group\">\n                        <br></br>\n                        <input class =\"upload-file\" type=\"file\" name=\"file\" multiple onChange={this.onFileChange}/>\n                        <input type=\"text\" name=\"id\" value=\"admin@gmail.com\" hidden/>\n                    </div>\n                    <br></br>\n                    <br></br>\n                    <input type=\"submit\" name=\"submit\" className=\"btn   btn-primary btn-block btn-upload\" value=\"Publier\" />\n                </table>\n            </form>\n          </div>\n\n      )\n    }\n  }\n  export default UploadImageArticle;"]},"metadata":{},"sourceType":"module"}