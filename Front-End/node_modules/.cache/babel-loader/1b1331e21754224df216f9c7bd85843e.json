{"ast":null,"code":"var _jsxFileName = \"/Users/badrsajid/Desktop/MonCitoyen/Front-End/src/Plainte.js\";\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport HeaderCitoyen from './HeaderCitoyen';\nimport history from './history';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Plainte extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      textareaVal: \"\",\n      idCitoyen: 1\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    // Recuperer les informations de citoyen.\n    const url = \"http://localhost:8080/Web-Project/project/GetLoginId/\" + this.props.location.state.id;\n    fetch(url).then(res => res.json()).then(data => {\n      console.log(data);\n      this.setState({\n        idCitoyen: data[0][\"idLogin\"]\n      });\n    }, // Remarque : il est important de traiter les erreurs ici\n    // au lieu d'utiliser un bloc catch(), pour ne pas passer à la trappe\n    // des exceptions provenant de réels bugs du composant.\n    error => {});\n  }\n\n  handleClick(event, id) {\n    const question = this.state.textareaVal;\n    const url = \"http://localhost:8080/Web-Project/project/AddQuestion\";\n    history.goBack();\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        citoyen: {\n          id: this.state.idCitoyen\n        },\n        question: question,\n        reponse: \"\",\n        estTraite: \"false\"\n      })\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      textareaVal: event.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(HeaderCitoyen, {\n        id: this.props.location.state.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"overall-separator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"question-title\",\n        children: \" Poser une question \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reponse-textfield\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          ref: \"myTextarea\",\n          value: this.state.textareaVal,\n          onChange: e => this.handleChange(e),\n          rows: \"10\",\n          cols: \"100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"separate-demandes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"envoyer-response\",\n          variant: \"contained\",\n          color: \"default\",\n          onClick: e => this.handleClick(e, this.props.location.state.id),\n          children: \"Envoyer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"end\",\n        children: /*#__PURE__*/_jsxDEV(\"center\", {\n          children: [\"Copyright \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\xA9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 39\n          }, this), \" 2021 tous les droits r\\xE9s\\xE9rv\\xE9s.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Plainte;","map":{"version":3,"sources":["/Users/badrsajid/Desktop/MonCitoyen/Front-End/src/Plainte.js"],"names":["React","Component","Button","HeaderCitoyen","history","Plainte","constructor","props","state","textareaVal","idCitoyen","handleClick","bind","handleChange","componentDidMount","url","location","id","fetch","then","res","json","data","console","log","setState","error","event","question","goBack","method","headers","body","JSON","stringify","citoyen","reponse","estTraite","target","value","render","e"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport HeaderCitoyen from './HeaderCitoyen';\nimport history from './history';\n\n\n\nclass Plainte extends Component {\n\n\n\n    constructor(props) {\n        super(props);\n        this.state = {textareaVal: \"\", idCitoyen: 1};\n        this.handleClick = this.handleClick.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n\n    componentDidMount(){\n        // Recuperer les informations de citoyen.\n        const url = \"http://localhost:8080/Web-Project/project/GetLoginId/\"+this.props.location.state.id;\n        fetch(url)\n        .then(res => res.json())\n        .then(\n        (data) => {\n          console.log(data);\n          this.setState({idCitoyen: data[0][\"idLogin\"]});\n        },\n        // Remarque : il est important de traiter les erreurs ici\n        // au lieu d'utiliser un bloc catch(), pour ne pas passer à la trappe\n        // des exceptions provenant de réels bugs du composant.\n        (error) => {\n\n        }\n        )\n\n    }\n\n    handleClick(event, id)  {\n        const question = this.state.textareaVal;\n        const url = \"http://localhost:8080/Web-Project/project/AddQuestion\";\n        history.goBack();\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                citoyen: {id: this.state.idCitoyen},\n                question: question,\n                reponse: \"\",\n                estTraite: \"false\"\n            })\n        })\n    }\n\n    handleChange(event) {\n        this.setState({textareaVal: event.target.value});\n    }\n\n\n    render() {\n        return (\n            <div>\n                <HeaderCitoyen id={this.props.location.state.id}/>\n                <hr className=\"overall-separator\" />\n                <br></br>\n\n\n                <h2 className=\"question-title\"> Poser une question </h2>\n                <br></br>\n                <div className=\"reponse-textfield\">\n                    <textarea ref='myTextarea' value={this.state.textareaVal} onChange={(e) => this.handleChange(e)} rows=\"10\" cols=\"100\">\n                    </textarea>\n                    <hr className=\"separate-demandes\"></hr>\n                    <Button className=\"envoyer-response\" variant=\"contained\" color=\"default\" onClick={(e) => this.handleClick(e,this.props.location.state.id)}>Envoyer</Button>\n                </div>\n\n                        \n                <br></br>\n                <div className=\"end\">\n                    <center>Copyright <span>&#169;</span> 2021 tous les droits résérvés.</center>\n                </div>\n\n\n\n            </div>\n        )\n    }\n    \n}\n\n  \nexport default Plainte;"]},"metadata":{},"sourceType":"module"}